{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useQueryParams = exports.getQueryParams = exports.setQueryParams = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _isNode = _interopRequireDefault(require(\"./isNode\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar queryParamListeners = [];\nvar queryParamObject = {};\n\nvar setQueryParams = function setQueryParams(inObj) {\n  var replace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (!(inObj instanceof Object)) {\n    throw new Error('Object required');\n  }\n\n  if (replace) {\n    queryParamObject = inObj;\n  } else {\n    Object.assign(queryParamObject, inObj);\n  }\n\n  var now = Date.now();\n  queryParamListeners.forEach(function (cb) {\n    return cb(now);\n  });\n\n  if (!_isNode.default) {\n    var qs = '?' + objectToQueryString(queryParamObject);\n\n    if (qs === location.search) {\n      return;\n    }\n\n    history.replaceState(null, null, location.pathname + (qs !== '?' ? qs : ''));\n  }\n};\n\nexports.setQueryParams = setQueryParams;\n\nvar getQueryParams = function getQueryParams() {\n  return Object.assign({}, queryParamObject);\n};\n/**\r\n * This takes an URL query string and converts it into a javascript object.\r\n * @param {string} inStr\r\n * @return {object}\r\n */\n\n\nexports.getQueryParams = getQueryParams;\n\nvar queryStringToObject = function queryStringToObject(inStr) {\n  var p = new URLSearchParams(inStr);\n  var result = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = p[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var param = _step.value;\n      result[param[0]] = param[1];\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return result;\n};\n/**\r\n * This takes a javascript object and turns it into a URL query string.\r\n * @param {object} inObj\r\n * @return {string}\r\n */\n\n\nvar objectToQueryString = function objectToQueryString(inObj) {\n  var qs = new URLSearchParams();\n  Object.entries(inObj).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    return value !== undefined ? qs.append(key, value) : null;\n  });\n  return qs.toString();\n};\n\nif (!_isNode.default) {\n  queryParamObject = queryStringToObject(location.search.substr(1));\n}\n/**\r\n * This hook returns the currently set query parameters as object and offers a setter function\r\n * to set a new query string.\r\n *\r\n * All components that are hooked to the query parameters will get updated if they change.\r\n * Query params can also be updated along with the path, by calling `navigate(url, queryParams)`.\r\n *\r\n * @returns {array} [queryParamObject, setQueryParams]\r\n */\n\n\nvar useQueryParams = function useQueryParams() {\n  var setUpdate = _react.default.useState(0)[1];\n\n  _react.default.useEffect(function () {\n    queryParamListeners.push(setUpdate);\n    return function () {\n      var index = queryParamListeners.indexOf(setUpdate);\n\n      if (index === -1) {\n        return;\n      }\n\n      queryParamListeners.splice(index, 1);\n    };\n  }, [setUpdate]);\n\n  return [queryParamObject, setQueryParams];\n};\n\nexports.useQueryParams = useQueryParams;","map":{"version":3,"mappings":"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","names":["queryParamListeners","queryParamObject","setQueryParams","inObj","replace","Object","Error","assign","now","Date","forEach","cb","isNode","qs","objectToQueryString","location","search","history","replaceState","pathname","getQueryParams","queryStringToObject","inStr","p","URLSearchParams","result","param","_didIteratorError","_iteratorError","_iterator","entries","key","value","undefined","append","toString","substr","useQueryParams","setUpdate","React","useState","useEffect","push","index","indexOf","splice"],"sources":["/home/daksh/Projects/Trivia_Game/frontend/node_modules/hookrouter/src/queryParams.js"],"sourcesContent":["import React from 'react';\r\nimport isNode from './isNode';\r\n\r\nconst queryParamListeners = [];\r\nlet queryParamObject = {};\r\n\r\nexport const setQueryParams = (inObj, replace = false) => {\r\n\tif(!(inObj instanceof Object)){\r\n\t\tthrow new Error('Object required');\r\n\t}\r\n\tif(replace){\r\n\t\tqueryParamObject = inObj;\r\n\t} else {\r\n\t\tObject.assign(queryParamObject, inObj);\r\n\t}\r\n\tconst now = Date.now();\r\n\tqueryParamListeners.forEach(cb => cb(now));\r\n\tif (!isNode) {\r\n\t\tconst qs = '?' + objectToQueryString(queryParamObject);\r\n\t\tif(qs === location.search) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\thistory.replaceState(null, null, location.pathname + (qs !== '?' ? qs : ''));\r\n\t}\r\n};\r\n\r\nexport const getQueryParams = () => Object.assign({}, queryParamObject);\r\n\r\n/**\r\n * This takes an URL query string and converts it into a javascript object.\r\n * @param {string} inStr\r\n * @return {object}\r\n */\r\nconst queryStringToObject = (inStr) => {\r\n\tconst p = new URLSearchParams(inStr);\r\n\tlet result = {};\r\n\tfor (let param of p) {\r\n\t\tresult[param[0]] = param[1];\r\n\t}\r\n\treturn result;\r\n};\r\n\r\n/**\r\n * This takes a javascript object and turns it into a URL query string.\r\n * @param {object} inObj\r\n * @return {string}\r\n */\r\nconst objectToQueryString = (inObj) => {\r\n\tconst qs = new URLSearchParams();\r\n\tObject.entries(inObj).forEach(([key, value]) => value !== undefined ? qs.append(key, value) : null);\r\n\treturn qs.toString();\r\n};\r\n\r\nif(!isNode){\r\n\tqueryParamObject = queryStringToObject(location.search.substr(1));\r\n}\r\n\r\n/**\r\n * This hook returns the currently set query parameters as object and offers a setter function\r\n * to set a new query string.\r\n *\r\n * All components that are hooked to the query parameters will get updated if they change.\r\n * Query params can also be updated along with the path, by calling `navigate(url, queryParams)`.\r\n *\r\n * @returns {array} [queryParamObject, setQueryParams]\r\n */\r\nexport const useQueryParams = () => {\r\n\tconst setUpdate = React.useState(0)[1];\r\n\r\n\tReact.useEffect(() => {\r\n\t\tqueryParamListeners.push(setUpdate);\r\n\r\n\t\treturn () => {\r\n\t\t\tconst index = queryParamListeners.indexOf(setUpdate);\r\n\t\t\tif (index === -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tqueryParamListeners.splice(index, 1);\r\n\t\t};\r\n\t}, [setUpdate]);\r\n\r\n\treturn [queryParamObject, setQueryParams];\r\n};\r\n"]},"metadata":{},"sourceType":"script"}