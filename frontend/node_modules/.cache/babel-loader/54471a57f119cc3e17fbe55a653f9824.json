{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useInterceptor = exports.interceptRoute = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar incrementalId = 1;\nvar interceptors = [];\n\nvar interceptRoute = function interceptRoute(previousRoute, nextRoute) {\n  if (!interceptors.length) {\n    return nextRoute;\n  }\n\n  return interceptors.reduceRight(function (nextRoute, interceptor) {\n    return nextRoute === previousRoute ? nextRoute : interceptor.handlerFunction(previousRoute, nextRoute);\n  }, nextRoute);\n};\n\nexports.interceptRoute = interceptRoute;\n\nvar get = function get(componentId) {\n  return interceptors.find(function (obj) {\n    return obj.componentId === componentId;\n  }) || null;\n};\n\nvar remove = function remove(componentId) {\n  var index = interceptors.findIndex(function (obj) {\n    return obj.componentId === componentId;\n  });\n\n  if (index !== -1) {\n    interceptors.splice(index, 1);\n  }\n};\n\nvar useInterceptor = function useInterceptor(handlerFunction) {\n  var _React$useState = _react.default.useState(incrementalId++),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      componentId = _React$useState2[0];\n\n  var obj = get(componentId);\n\n  if (!obj) {\n    obj = {\n      componentId: componentId,\n      stop: function stop() {\n        return remove(componentId);\n      },\n      handlerFunction: handlerFunction\n    };\n    interceptors.unshift(obj);\n  }\n\n  _react.default.useEffect(function () {\n    return function () {\n      return obj.stop();\n    };\n  }, []);\n\n  return obj.stop;\n};\n\nexports.useInterceptor = useInterceptor;","map":{"version":3,"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAIA,aAAa,GAAG,CAApB;AAEA,IAAMC,YAAY,GAAG,EAArB;;AAEO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,aAAD,EAAgBC,SAAhB,EAA8B;AAC3D,MAAI,CAACH,YAAY,CAACI,MAAlB,EAA0B;AACzB,WAAOD,SAAP;AACA;;AAED,SAAOH,YAAY,CAACK,WAAbL,CACN,UAACG,SAAD,EAAYG,WAAZ;AAAA,WAA4BH,SAAS,KAAKD,aAAdC,GACzBA,SADyBA,GAEzBG,WAAW,CAACC,eAAZD,CAA4BJ,aAA5BI,EAA2CH,SAA3CG,CAFH;AADM,KAINH,SAJMH,CAAP;AALM;;;;AAaP,IAAMQ,GAAG,GAAG,SAANA,GAAM,CAACC,WAAD;AAAA,SAAiBT,YAAY,CAACU,IAAbV,CAAkB,eAAG;AAAA,WAAIW,GAAG,CAACF,WAAJE,KAAoBF,WAAxB;AAArB,QAA6D,IAA9E;AAAZ;;AACA,IAAMG,MAAM,GAAG,SAATA,MAAS,CAACH,WAAD,EAAiB;AAC/B,MAAMI,KAAK,GAAGb,YAAY,CAACc,SAAbd,CAAuB,eAAG;AAAA,WAAIW,GAAG,CAACF,WAAJE,KAAoBF,WAAxB;AAA1B,IAAd;;AACA,MAAII,KAAK,KAAK,CAAC,CAAf,EAAkB;AACjBb,gBAAY,CAACe,MAAbf,CAAoBa,KAApBb,EAA2B,CAA3BA;AACA;AAJF;;AAOO,IAAMgB,cAAc,GAAG,SAAjBA,cAAiB,CAACT,eAAD,EAAqB;AAAA,wBAC5BU,eAAMC,QAAND,CAAelB,aAAa,EAA5BkB,CAD4B;AAAA;AAAA,MAC3CR,WAD2C;;AAGlD,MAAIE,GAAG,GAAGH,GAAG,CAACC,WAAD,CAAb;;AAEA,MAAI,CAACE,GAAL,EAAU;AACTA,OAAG,GAAG;AACLF,iBAAW,EAAXA,WADK;AAELU,UAAI,EAAE;AAAA,eAAMP,MAAM,CAACH,WAAD,CAAZ;AAFD;AAGLF,qBAAe,EAAfA;AAHK,KAANI;AAMAX,gBAAY,CAACoB,OAAbpB,CAAqBW,GAArBX;AACA;;AAEDiB,iBAAMI,SAANJ,CAAgB;AAAA,WAAM;AAAA,aAAMN,GAAG,CAACQ,IAAJR,EAAN;AAAN;AAAhB,KAAwC,EAAxCM;;AAEA,SAAON,GAAG,CAACQ,IAAX;AAjBM","names":["incrementalId","interceptors","interceptRoute","previousRoute","nextRoute","length","reduceRight","interceptor","handlerFunction","get","componentId","find","obj","remove","index","findIndex","splice","useInterceptor","React","useState","stop","unshift","useEffect"],"sources":["/home/daksh/Projects/Trivia_Game/frontend/node_modules/hookrouter/src/interceptor.js"],"sourcesContent":["import React from 'react';\r\n\r\nlet incrementalId = 1;\r\n\r\nconst interceptors = [];\r\n\r\nexport const interceptRoute = (previousRoute, nextRoute) => {\r\n\tif (!interceptors.length) {\r\n\t\treturn nextRoute;\r\n\t}\r\n\r\n\treturn interceptors.reduceRight(\r\n\t\t(nextRoute, interceptor) => nextRoute === previousRoute\r\n\t\t\t? nextRoute\r\n\t\t\t: interceptor.handlerFunction(previousRoute, nextRoute),\r\n\t\tnextRoute\r\n\t);\r\n};\r\n\r\nconst get = (componentId) => interceptors.find(obj => obj.componentId === componentId) || null;\r\nconst remove = (componentId) => {\r\n\tconst index = interceptors.findIndex(obj => obj.componentId === componentId);\r\n\tif (index !== -1) {\r\n\t\tinterceptors.splice(index, 1);\r\n\t}\r\n};\r\n\r\nexport const useInterceptor = (handlerFunction) => {\r\n\tconst [componentId] = React.useState(incrementalId++);\r\n\r\n\tlet obj = get(componentId);\r\n\r\n\tif (!obj) {\r\n\t\tobj = {\r\n\t\t\tcomponentId,\r\n\t\t\tstop: () => remove(componentId),\r\n\t\t\thandlerFunction\r\n\t\t};\r\n\r\n\t\tinterceptors.unshift(obj);\r\n\t}\r\n\r\n\tReact.useEffect(() => () => obj.stop(), []);\r\n\r\n\treturn obj.stop;\r\n};\r\n"]},"metadata":{},"sourceType":"script"}